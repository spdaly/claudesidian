# PostgreSQL 18

![rw-book-cover](https://www.thenile.dev/2025-05-09-uuidv7/cover.png)
<br>
>[!note]- Readwise Information
>Title:: PostgreSQL 18
>Author:: [[thenile.dev]]
>Type:: #Readwise/category/articles
>Published-Date:: [[2025-05-09]]
>Last-Highlighted-Date:: [[2025-09-09]]
>Readwise-Link:: https://readwise.io/bookreview/54879885
>Readwise-Source:: #Readwise/source/reader
>Source URL:: https://www.thenile.dev/blog/uuidv7
--- 

## Linked Notes
```dataview
LIST
FROM [[PostgreSQL 18 by thenile.dev Highlights]]
```

---

## Highlights
- **UUIDv7 solves both the sorting and index locality concerns.** It uses Unix Epoch timestamp as the most significant 48 bits, keeping the other 74 bits for random values (additional bits are used for version and variant). This makes UUIDs sortable by time sequence and unique. The standard also provides the option to include millisecond timestamp in the UUID and/or carefully seeded counter, to support ordering within a single second (if needed). As a result, UUIDv7 is a great fit for use as a primary key in databases - it is guaranteed to be unique, sortable and have good index locality. [View Highlight](https://readwise.io/open/936189355) ^rw936189355
- PostgreSQL 18 adds a new function: `uuidv7()`, which generates UUIDv7 values. The Postgres implementation includes a 12-bit sub-millisecond timestamp fraction immediately after the timestamp (as allowed but not required by the standard). This guarantees monotonicity for all UUIDv7 values generated by the same Postgres session (same backend process). [View Highlight](https://readwise.io/open/936189415) ^rw936189415
